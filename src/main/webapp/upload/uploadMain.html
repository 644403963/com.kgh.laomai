<!DOCTYPE html>
<html>
  
  <head>
    <meta charset="UTF-8">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui@1.4.12/lib/theme-default/index.css">
  
  <body>
    <div id="app">
    
<el-container>


<el-form ref="formQuery" :model="form" label-width="80px">
  <el-col :span="6">
		<el-form-item label="歌曲名">
		    <el-input v-model="form.name"></el-input>
		  </el-form-item>
  </el-col>
  <el-col :span="6">
		  <el-form-item label="专辑名称">
		    <el-input v-model="form.album"></el-input>
		  </el-form-item>
	</el-col>
	<el-col :span="2" style="margin-left: 28px;">
		 <el-button  type="primary" @click="queryInfo()">查询</el-button></el-col>
	</el-col>
	<el-col :span="2" style="margin-left: 28px;">
		 <el-button  type="primary" @click="dialogFormVisible = true">新增上传</el-button></el-col>
	</el-col>
</el-form>

<div>
<template>
  <el-table
    :data="tableData"
    border
    style="width: 100%"
    :default-sort = "{prop: 'date', order: 'descending'}"
    >
    <el-table-column
      prop="musicName"
      label="歌曲名"
      width="180">
    </el-table-column>
    <el-table-column
      prop="musicAlbum"
      label="专辑名称"
      width="180">
    </el-table-column>
    <el-table-column
      prop="singer"
      label="歌手"
      >
    </el-table-column>
     <el-table-column
      prop="status"
      label="审核状态"
      >
    </el-table-column>
     <el-table-column
      prop="reason"
      label="审核不通过理由"
      >
    </el-table-column>
        <el-table-column label="操作" width="150">
            <template scope="scope">
                <el-tooltip content="删除" placement="top" effect="light" :enterable="false">
                   <el-button
          size="mini"
          type="danger"
          @click="handleDelete(scope.$index, scope.row)">删除</el-button>
                </el-tooltip>
            </template>
        </el-table-column>
  </el-table>
  <el-pagination
  small
  @current-change="handleCurrentChange"
  layout="prev, pager, next"
  :total="50" style="text-align: center;     margin-top: 18px;">
</el-pagination>
 </template>
 <el-dialog title="新增上传歌曲" :visible.sync="dialogFormVisible">
 <img src="../../index/img/logo.png">
  <el-form :model="form" :rules="rules" ref="form">
 
  <el-form-item label="音乐名"  label-width="100px" prop="musicName">
    <el-input v-model="form.musicName"></el-input>
  </el-form-item>
  <el-form-item label="专辑名称"  label-width="100px" prop="musicAlbum">
    <el-input  v-model="form.musicAlbum"></el-input>
  </el-form-item>
  <el-form-item label="歌手" label-width="100px" prop="singer">
    <el-input  v-model="form.singer" ></el-input>
  </el-form-item>
    <el-form-item>
	<el-upload
	   class="upload-demo"
	  ref="upload"
	  :action="url"
	  :on-preview="handlePreview"
	  :on-remove="handleRemove"
	  :on-success="uploadSuccess"
	  :file-list="fileList"
	  :auto-upload="false"
	  list-type="picture"
	  multiple>
	  <<el-button slot="trigger" size="small" type="primary">选取文件</el-button>
	  <el-button style="margin-left: 10px;" size="small" type="success" >上传到服务器的歌曲文件</el-button>
	</el-upload>
</el-form-item>
  </el-form>
  <div slot="footer" class="dialog-footer">
    <el-button @click="dialogFormVisible = false">取 消</el-button>
    <el-button type="primary" @click="addMusic('form')">确 定</el-button>
  </div>
</el-dialog>
 
 
 </div>
</el-container>
    
      
    </div>
  </body>
  <!-- 先引入 Vue -->
  <script src="../common/js/vue.js"></script>
  <!-- 引入组件库 -->
  <script src="../common/js/index.js"></script>
  <!-- 引入组件库 -->
  <script src="../common/js/jquery-1.8.1.min.js"></script>
  <!-- 页面js -->
  <script src="../upload/js/uploadMain.js"></script>
  
</html>